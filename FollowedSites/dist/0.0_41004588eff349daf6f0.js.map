{"version":3,"sources":["webpack:///../../../../src/propertyFields/number/PropertyFieldNumberHost.tsx","webpack:///../../../../src/propertyFields/number/PropertyFieldNumber.ts","webpack:///../../src/TextField.ts","webpack:///../../../../src/common/telemetry/index.ts","webpack:///../../../../src/common/telemetry/version.ts","webpack:///../../../../src/propertyFields/number/index.ts"],"names":[],"mappings":"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","file":"0.0_41004588eff349daf6f0.js","sourcesContent":["import * as React from 'react';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport { IPropertyFieldNumberHostProps, IPropertyFieldNumberHostState } from './IPropertyFieldNumberHost';\nimport * as telemetry from '../../common/telemetry';\nimport { Async } from 'office-ui-fabric-react/lib/Utilities';\nimport * as strings from 'PropertyControlStrings';\n\nexport default class PropertyFieldNumberHost extends React.Component<IPropertyFieldNumberHostProps, IPropertyFieldNumberHostState> {\n  private _async: Async;\n  private _delayedChange: (value: string) => void;\n\n  constructor(props: IPropertyFieldNumberHostProps) {\n    super(props);\n\n    telemetry.track('PropertyFieldNumber', {\n      disabled: props.disabled\n    });\n\n    this.state = {\n      value: this.props.value ? this.props.value.toString() : null\n    };\n\n    this._async = new Async(this);\n    this._delayedChange = this._async.debounce(this._onChanged, this.props.deferredValidationTime ? this.props.deferredValidationTime : 200);\n  }\n\n  /**\n   * Validate if field value is a number\n   * @param value\n   */\n  private _validateNumber = (value: string): string | Promise<string> => {\n    if (isNaN(Number(value))) {\n      return `${strings.NotNumberValidationMessage} ${value}.`;\n    }\n\n    const nrValue = parseInt(value);\n    // Check if number is lower or equal to minimum value\n    if (this.props.minValue && nrValue < this.props.minValue) {\n      return `${strings.MinimumNumberValidationMessage} ${this.props.minValue}`;\n    }\n    // Check if the number is greater than the maximum value\n    if (this.props.maxValue && nrValue > this.props.maxValue) {\n      return `${strings.MaximumNumberValidationMessage} ${this.props.maxValue}`;\n    }\n\n    if (this.props.onGetErrorMessage) {\n      return this.props.onGetErrorMessage(nrValue);\n    } else {\n      return '';\n    }\n  }\n\n  /**\n   * On field change event handler\n   */\n  private _onChanged = (value: string): void => {\n    // Update state\n    this.setState({\n      value\n    });\n\n    if (!isNaN(Number(value))) {\n      const nrValue = parseInt(value);\n      if ((!this.props.minValue || nrValue >= this.props.minValue) && (!this.props.maxValue || nrValue <= this.props.maxValue)) {\n        // Trigger change for the web part\n        this.props.onChanged(nrValue);\n      }\n    }\n  }\n\n  /**\n   * Render field\n   */\n  public render(): JSX.Element {\n    return (\n      <div>\n        <TextField label={this.props.label}\n                   ariaLabel={this.props.ariaLabel}\n                   onChanged={this._delayedChange}\n                   value={this.state.value}\n                   description={this.props.description}\n                   placeholder={this.props.placeholder}\n                   errorMessage={this.props.errorMessage}\n                   onGetErrorMessage={this._validateNumber}\n                   deferredValidationTime={this.props.deferredValidationTime}\n                   disabled={this.props.disabled} />\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../../../src/propertyFields/number/PropertyFieldNumberHost.tsx","import { IDropdownOption } from 'office-ui-fabric-react/lib/components/Dropdown';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport {\n  IPropertyPaneField,\n  PropertyPaneFieldType,\n  IPropertyPaneDropdownOption\n} from '@microsoft/sp-webpart-base';\n\nimport PropertyFieldNumberHost from './PropertyFieldNumberHost';\n\nimport { IPropertyFieldNumberPropsInternal, IPropertyFieldNumberProps } from './IPropertyFieldNumber';\nimport { cloneDeep } from 'lodash';\n\nclass PropertyFieldNumberBuilder implements IPropertyPaneField<IPropertyFieldNumberPropsInternal> {\n  public targetProperty: string;\n  public type: PropertyPaneFieldType = PropertyPaneFieldType.Custom;\n  public properties: IPropertyFieldNumberPropsInternal;\n\n\n  private _onChangeCallback: (targetProperty?: string, newValue?: any) => void;\n\n  public constructor(_targetProperty: string, _properties: IPropertyFieldNumberPropsInternal) {\n    this.targetProperty = _targetProperty;\n    this.properties = _properties;\n\n    this.properties.onRender = this._render.bind(this);\n    this.properties.onDispose = this._dispose.bind(this);\n  }\n\n  private _render(elem: HTMLElement, context?: any, changeCallback?: (targetProperty?: string, newValue?: any) => void): void {\n\n    const props: IPropertyFieldNumberProps = <IPropertyFieldNumberProps>this.properties;\n\n    const element = React.createElement(PropertyFieldNumberHost, {\n      ...props,\n      onChanged: this._onChanged.bind(this)\n    });\n\n    ReactDOM.render(element, elem);\n\n    if (changeCallback) {\n      this._onChangeCallback = changeCallback;\n    }\n  }\n\n  private _dispose(elem: HTMLElement) {\n    ReactDOM.unmountComponentAtNode(elem);\n  }\n\n  private _onChanged(value: number): void {\n    if (this._onChangeCallback) {\n      this._onChangeCallback(this.targetProperty, value);\n    }\n  }\n}\n\nexport function PropertyFieldNumber(targetProperty: string, properties: IPropertyFieldNumberProps): IPropertyPaneField<IPropertyFieldNumberPropsInternal> {\n  return new PropertyFieldNumberBuilder(targetProperty, {\n    ...properties,\n    onRender: null,\n    onDispose: null\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ../../../src/propertyFields/number/PropertyFieldNumber.ts","export * from './components/TextField/index';\r\n\n\n\n// WEBPACK FOOTER //\n// ../src/TextField.ts","import PnPTelemetry from \"@pnp/telemetry-js\";\nimport { version } from './version';\nimport { Environment, EnvironmentType } from \"@microsoft/sp-core-library\";\n\nconst CONTROL_TYPE = \"property\";\n\nexport function track(componentName: string, properties: any = {}): void {\n  const telemetry = PnPTelemetry.getInstance();\n  telemetry.trackEvent(componentName, {\n    version,\n    controlType: CONTROL_TYPE,\n    debug: DEBUG ? \"true\" : \"false\",\n    environment: EnvironmentType[Environment.type],\n    ...properties\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ../../../src/common/telemetry/index.ts","export const version: string = \"1.14.1\";\n\n\n// WEBPACK FOOTER //\n// ../../../src/common/telemetry/version.ts","export * from './IPropertyFieldNumber';\nexport * from './PropertyFieldNumber';\nexport * from './IPropertyFieldNumberHost';\nexport * from './PropertyFieldNumberHost';\n\n\n\n// WEBPACK FOOTER //\n// ../../../src/propertyFields/number/index.ts"],"sourceRoot":""}